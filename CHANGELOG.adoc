:toc:
:toc-placement!:
:toclevels: 4

ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]

= Changelog

== Unreleased
These changes are merged into the `main` branch, but have not been released. After merging pull requests (PRs) that are not immediately released into `main`, a tag is added appending the PR# to the current release. For example, if the release version/tag is `v0.0.0`, and PR# 15 is merged without a new release, the state of the codebase after that merge will be tagged as `v0.0.0.pr15`.

=== Breaking

=== Added

=== Bugfixes

=== Changed

=== Deleted

=== Deprecated/Will break in a future version

== 1.0.0 (2022-12-08)
This is not a breaking change, but reflects this is now being used for CS migrations by more than one person.

=== Added

* When mapping a batch with `rectype=media`, rows with `blob_uri` values that cannot be converted into `URI` objects will get a "media_uri cannot be encoded as valid ingest URI. File ingest may not work as expected" warning. This is a warning, not an error, since CS can successfully ingest from file paths that do not convert to valid URIs.
* `thor decode:objects` that decodes object keys of all objects in S3 bucket, writing the results to a CSV in your base directory. This streamlines the process of getting the human-readable record id values for objects left in S3 bucket (assumed to be ingest errors)
* `thor media:blob_data` command to write report of all media procedures and, if present, their blob details. See https://github.com/lyrasis/collectionspace_migration_tools/blob/main/doc/media.adoc[media ingest documentation].
* `thor media:deriv_report` command to generate report of derivatives present for each `blobcsid` given. See https://github.com/lyrasis/collectionspace_migration_tools/blob/main/doc/media.adoc[media ingest documentation].
* Optional `:media_with_blob_upload_delay` client config setting. When uploading to S3 bucket for ingest, will wait this long after each media record that has an associated `mediaFileURI` value.

== 0.1.2 (2022-12-02)
* Use `collectionspace-mapper` v4.1.2 to get error handling bugfix

== 0.1.1 (2022-11-21)
=== Bugfixes
* Use `collectionspace-mapper` v4.1.1 to get scalar date creation bugfix

== 0.1.0 (2022-11-17)
=== Added
* Ability to ingest vocabulary terms. See https://github.com/lyrasis/collectionspace_migration_tools/blob/main/doc/add_vocabulary_terms.adoc[documentation] (https://github.com/lyrasis/collectionspace_migration_tools/pull/21[PR#21])

=== Changed
* `bin/console` now uses Pry instead of IRB (https://github.com/lyrasis/collectionspace_migration_tools/pull/20[PR#20])

=== Deleted
* Config validation constraint requiring `bastion-host` value to contain `bastion`. The host for tunneling for a project I am working on does not contain `bastion` (https://github.com/lyrasis/collectionspace_migration_tools/pull/19[PR#19])

== 0.0.2 (2022-10-18)

=== Bugfixes
* Bumps version of `collectionspace-mapper` used, to get fixes for date processing (https://github.com/lyrasis/collectionspace_migration_tools/pull/17[PR#17])

=== Added
* `ohc` as valid profile in `config_client_contract` (https://github.com/lyrasis/collectionspace_migration_tools/pull/15[PR#15])

== 0.0.1 (2022-02-11)
* Added initial working version (skeletal!)

== 0.0.0 (2022-02-01)

* Added initial implementation.
